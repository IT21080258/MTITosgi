package com.mtit.postal.packagetypeservice;

import org.osgi.framework.BundleActivator;
import org.osgi.framework.BundleContext;

public class PublisherActivator implements PackageType, BundleActivator {

    @Override
    public int packageType(String packageId, Boolean express, Boolean fragile) {
        int pkgType = 0;
        if (express) {
            pkgType = 1;
        } else {
            if (fragile) {
                pkgType = 1;
            } else {
                pkgType = 2;
            }
        }
        System.out.println("Package ID: " + packageId);
        System.out.println("Package Type: " + pkgType);
        return pkgType;
    }

    @Override
    public void start(BundleContext context) throws Exception {
        System.out.println("Package Type Producer Bundle Started");

        // Call the packageType method
        int result = packageType("ABC123", true, false);
        System.out.println("Result: " + result);
    }

    @Override
    public void stop(BundleContext context) throws Exception {
        System.out.println("Package Type Producer Bundle Stopped");
    }
}
